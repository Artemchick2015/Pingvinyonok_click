<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Penguin Clicker üêß</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #def;
    text-align: center;
    padding: 20px;
  }
  #coins {
    font-size: 2em;
    margin-bottom: 10px;
  }
  button {
    font-size: 1em;
    margin: 5px;
    padding: 10px 20px;
    cursor: pointer;
  }
  button:disabled {
    background: #aaa;
    cursor: not-allowed;
  }
  #status {
    margin-top: 15px;
    min-height: 24px;
    color: green;
    font-weight: bold;
  }
  #penguin {
    font-size: 5em;
    cursor: pointer;
    user-select: none;
    transition: transform 0.3s;
  }
  #penguin.boosted {
    transform: scale(1.2);
    color: #09f;
  }
</style>
</head>
<body>

<div id="coins">–ú–æ–Ω–µ—Ç–∏: 0</div>
<div id="coinsPerClickDisplay">–ú–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫: 1</div>
<div id="penguin">üêß</div>

<div>
  <button id="upgradeClick">–ö—É–ø–∏—Ç–∏ –∞–ø–≥—Ä–µ–π–¥ –∫–ª—ñ–∫—É (50 –º–æ–Ω–µ—Ç)</button>
  <button id="upgradePassive">–ö—É–ø–∏—Ç–∏ –ø–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ (1000 –º–æ–Ω–µ—Ç)</button>
  <button id="buySuperUpgrade">–ö—É–ø–∏—Ç–∏ —Å—É–ø–µ—Ä-–∞–ø–≥—Ä–µ–π–¥ (+10 –º–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫, 1500 –º–æ–Ω–µ—Ç)</button>
</div>

<div id="status"></div>

<script>
  // –ó–º—ñ–Ω–Ω—ñ
  let coins = 0;
  let coinsPerClick = 1;
  let passiveIncome = false;
  let boostActive = false;
  let boostTimeout = null;
  let normalCoinsPerClick = 1;

  // –ï–ª–µ–º–µ–Ω—Ç–∏
  const coinsDisplay = document.getElementById('coins');
  const status = document.getElementById('status');
  const clickPenguinBtn = document.getElementById('penguin');
  const upgradeClickBtn = document.getElementById('upgradeClick');
  const upgradePassiveBtn = document.getElementById('upgradePassive');
  const buySuperUpgradeBtn = document.getElementById('buySuperUpgrade');
  const coinsPerClickDisplay = document.getElementById('coinsPerClickDisplay');

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–æ–Ω–µ—Ç
  function updateDisplay() {
    coinsDisplay.textContent = `–ú–æ–Ω–µ—Ç–∏: ${coins}`;
    coinsPerClickDisplay.textContent = `–ú–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫: ${coinsPerClick}`;
  }

  // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≥—Ä–∏
  function loadGame() {
    coins = Number(localStorage.getItem("coins")) || 0;
    coinsPerClick = Number(localStorage.getItem("coinsPerClick")) || 1;
    passiveIncome = localStorage.getItem("passiveIncome") === 'true';
    updateDisplay();

    if (coinsPerClick > 1) upgradeClickBtn.disabled = true;
    if (passiveIncome) upgradePassiveBtn.disabled = true;
  }

  // –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≥—Ä–∏
  function autoSaveGame() {
    localStorage.setItem("coins", coins);
    localStorage.setItem("coinsPerClick", coinsPerClick);
    localStorage.setItem("passiveIncome", passiveIncome);
  }

  // –ö–ª—ñ–∫ –ø–æ –ø—ñ–Ω–≥–≤—ñ–Ω—É
  clickPenguinBtn.addEventListener('click', () => {
    coins += coinsPerClick;
    updateDisplay();
    status.textContent = "";
    // –ê–∫—Ç–∏–≤—É—î–º–æ –±—É—Å—Ç –ø—Ä–∏ —à–≤–∏–¥–∫–∏—Ö –∫–ª—ñ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 5 –∫–ª—ñ–∫—ñ–≤ –∑–∞ 2 —Å–µ–∫—É–Ω–¥–∏)
    activateBoostOnRapidClicks();
  });

  // –ê–ø–≥—Ä–µ–π–¥ –∫–ª—ñ–∫—É (–ø–æ–¥–≤–æ—ó—Ç–∏)
  upgradeClickBtn.addEventListener('click', () => {
    if (coins >= 50 && coinsPerClick === 1) {
      coins -= 50;
      coinsPerClick = 2;
      updateDisplay();
      status.textContent = '–ê–ø–≥—Ä–µ–π–¥ –∫–ª—ñ–∫—É –∫—É–ø–ª–µ–Ω–æ! –¢–µ–ø–µ—Ä 2 –º–æ–Ω–µ—Ç–∏ –∑–∞ –∫–ª—ñ–∫.';
      upgradeClickBtn.disabled = true;
    } else if (coinsPerClick > 1) {
      status.textContent = '–ê–ø–≥—Ä–µ–π–¥ –∫–ª—ñ–∫—É –≤–∂–µ –∫—É–ø–ª–µ–Ω–æ!';
    } else {
      status.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∞–ø–≥—Ä–µ–π–¥—É –∫–ª—ñ–∫—É.';
    }
  });

  // –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥
  upgradePassiveBtn.addEventListener('click', () => {
    if (coins >= 1000 && !passiveIncome) {
      coins -= 1000;
      passiveIncome = true;
      updateDisplay();
      status.textContent = '–ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!';
      upgradePassiveBtn.disabled = true;
    } else if (passiveIncome) {
      status.textContent = '–ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ –≤–∂–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!';
    } else {
      status.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø–∞—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É.';
    }
  });

  // –°—É–ø–µ—Ä-–∞–ø–≥—Ä–µ–π–¥ +10 –º–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫
  buySuperUpgradeBtn.addEventListener('click', () => {
    if (coins >= 1500) {
      coins -= 1500;
      coinsPerClick += 10;
      updateDisplay();
      status.textContent = '–°—É–ø–µ—Ä-–∞–ø–≥—Ä–µ–π–¥ –∫—É–ø–ª–µ–Ω–æ! +10 –º–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫.';
      buySuperUpgradeBtn.disabled = true;
    } else {
      status.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç –¥–ª—è —Å—É–ø–µ—Ä-–∞–ø–≥—Ä–µ–π–¥—É.';
    }
  });

  // –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥: –¥–æ–¥–∞—î–º–æ 1 –º–æ–Ω–µ—Ç—É –∫–æ–∂–Ω—ñ 3.6 —Å–µ–∫—É–Ω–¥–∏
  setInterval(() => {
    if (passiveIncome) {
      coins += 1;
      updateDisplay();
    }
  }, 3600);

  // –ë—É—Å—Ç –∑–∞ —à–≤–∏–¥–∫—ñ –∫–ª—ñ–∫–∏ (–ø–æ–¥–≤–æ—é—î coinsPerClick –Ω–∞ 7 —Å–µ–∫—É–Ω–¥)
  let clickTimes = [];
  function activateBoostOnRapidClicks() {
    const now = Date.now();
    clickTimes.push(now);

    // –ß–∏—Å—Ç–∏–º–æ —Å—Ç–∞—Ä—ñ –∫–ª—ñ–∫–∏ (—Å—Ç–∞—Ä—à–µ 2 —Å–µ–∫)
    clickTimes = clickTimes.filter(t => now - t < 2000);

    if (clickTimes.length >= 5 && !boostActive) {
      activateBoost();
      clickTimes = [];
    }
  }

  function activateBoost() {
    boostActive = true;
    normalCoinsPerClick = coinsPerClick;
    coinsPerClick = normalCoinsPerClick * 2;
    clickPenguinBtn.classList.add('boosted');
    status.textContent = '–ë—É—Å—Ç –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ! –ü–æ–¥–≤–æ—î–Ω–æ –º–æ–Ω–µ—Ç–∏ –∑–∞ –∫–ª—ñ–∫ –Ω–∞ 7 —Å–µ–∫—É–Ω–¥.';

    if (boostTimeout) clearTimeout(boostTimeout);
    boostTimeout = setTimeout(() => {
      boostActive = false;
      coinsPerClick = normalCoinsPerClick;
      clickPenguinBtn.classList.remove('boosted');
      status.textContent = '';
      updateDisplay();
    }, 7000);
    updateDisplay();
  }

  // –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ –∞–±–æ –ø—Ä–∏—Ö–æ–≤–∞–Ω–Ω—ñ –≤–∫–ª–∞–¥–∫–∏
  window.addEventListener("beforeunload", autoSaveGame);
  document.addEventListener("visibilitychange", () => {
    if (document.visibilityState === "hidden") autoSaveGame();
  });

  // –°—Ç–∞—Ä—Ç –≥—Ä–∏
  window.onload = () => {
    loadGame();
    updateDisplay();
  }
</script>

</body>
</html>
