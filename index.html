<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Penguin Clicker üêß</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    /* –≤–∞—à CSS –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–æ–¥—É */
    body {
      background: linear-gradient(135deg, #000000, #8b0000, #000000);
      background-size: 400% 400%;
      animation: gradientShift 10s ease infinite;
      text-align: center;
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      padding: 20px;
      color: #fff;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .container {
      max-width: 400px;
      margin: auto;
      padding: 20px;
      border: 2px solid #ff0000;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(255, 0, 0, 0.4);
      background-color: rgba(0, 0, 0, 0.3);
      position: relative;
    }
    h1 {
      font-size: 1.8em;
      margin-bottom: 10px;
    }
    #rank {
      font-size: 1.2em;
      margin-bottom: 20px;
      color: #ffcccb;
    }
    .penguin-wrapper {
      width: 200px;
      height: 200px;
      margin: 0 auto;
      border-radius: 50%;
      overflow: hidden;
      border: 5px solid #ff0000;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
      cursor: pointer;
      transition: transform 0.1s ease-in-out;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(255, 255, 255, 0.2);
    }
    .penguin-wrapper:active {
      transform: scale(0.95);
    }
    .penguin-wrapper span {
      font-size: 3em;
      display: inline-block;
      transition: transform 0.1s ease;
    }
    .penguin-wrapper span:active {
      transform: scale(0.9);
    }
    #counter {
      font-size: 1.5em;
      font-weight: bold;
      margin-top: 15px;
    }
    #profitPerHour {
      font-size: 1em;
      color: #fff;
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 10;
      background-color: rgba(255, 0, 0, 0.6);
      padding: 5px 10px;
      border-radius: 8px;
      border: 2px solid #ff6666;
    }
    /* –ú–µ–Ω—é –∫–Ω–æ–ø–æ–∫ –∑–Ω–∏–∑—É */
    .menu-wrapper {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 50px;
      background-color: rgba(0,0,0,0.6);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      white-space: nowrap;
      z-index: 10000;
    }
    .menu-wrapper::-webkit-scrollbar {
      height: 6px;
    }
    .menu-wrapper::-webkit-scrollbar-thumb {
      background: #cc0000;
      border-radius: 3px;
    }
    .menu {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
    }
    .menu button {
      flex: 0 0 auto;
      min-width: 80px;
      max-width: 110px;
      padding: 6px 0;
      font-size: 15px;
      border: none;
      border-radius: 6px;
      background-color: #ff0000;
      color: #fff;
      cursor: pointer;
      height: 36px;
      box-sizing: border-box;
      white-space: nowrap;
      transition: background-color 0.2s;
      outline: none;
    }
    .menu button:hover, .menu button:focus {
      background-color: #e60000;
    }
    /* Upgrade Container */
    .upgrade-container {
      margin-top: 20px;
      border: 2px solid #ff0000;
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.3);
      display: none;
    }
    .upgrade-container p {
      font-size: 1.2em;
      color: #fff;
    }
    .upgrade-button {
      padding: 10px 20px;
      font-size: 1.2em;
      background-color: #ffcc00;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px 0;
    }
    .upgrade-button:hover {
      background-color: #e6b800;
    }
    .close-upgrade {
      margin-top: 10px;
      color: #ff0000;
      cursor: pointer;
      text-decoration: underline;
    }
    #saveBtn {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #ff0000;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2em;
      display: inline-block;
    }
    #saveBtn:hover {
      background-color: #e60000;
    }
  </style>
</head>
<body>
  <div class="container" id="mainContent">
    <h1>Click on the Penguin!</h1>
    <div id="rank">Level: Newbie üê£</div>

    <div class="penguin-wrapper" id="penguin">
      <span>üêß</span>
    </div>

    <p>Pingvi Coins: <span id="counter">0</span></p>
    <button id="saveBtn">Save result</button>
    <div id="profitPerHour">Profit per hour: 0 coins</div>

    <!-- Upgrade Menu -->
    <div class="upgrade-container" id="upgradeMenu">
      <p>Upgrade: 2 Pingvi coins per click = 50 coins</p>
      <button class="upgrade-button" id="buyUpgrade">Buy Upgrade</button>

      <p>Upgrade: 5 Pingvi coins per click = 250 coins</p>
      <button class="upgrade-button" id="buySuperUpgrade">Buy Super Upgrade</button>

      <p>Passive Income: 1000 Pingvi coins per hour = 1000 coins</p>
      <button class="upgrade-button" id="buyPassiveIncome">Buy Passive Income</button>

      <span class="close-upgrade" id="closeUpgrade">Back to Penguin</span>
    </div>
  </div>

  <!-- –ú–µ–Ω—é –∫–Ω–æ–ø–æ–∫ –∑–Ω–∏–∑—É -->
  <div class="menu-wrapper" tabindex="0" aria-label="Main menu">
    <div class="menu" role="menubar">
      <button id="pingvinBtn" role="menuitem">Penguin</button>
      <button id="upgradeBtn" role="menuitem">Upgrade</button>
      <!-- —ñ–Ω—à—ñ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é, —è–∫—â–æ —Ç—Ä–µ–±–∞ -->
    </div>
  </div>

  <script>
    // --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–º—ñ–Ω–Ω–∏—Ö ---
    let count = 0;
    let coinsPerClick = 1;
    let passiveIncome = false;
    const passiveIncomeRate = 1000 / 3600; // 1000 –º–æ–Ω–µ—Ç –Ω–∞ –≥–æ–¥–∏–Ω—É

    // DOM –µ–ª–µ–º–µ–Ω—Ç–∏
    const counter = document.getElementById("counter");
    const rank = document.getElementById("rank");
    const profitPerHourElement = document.getElementById("profitPerHour");

    const buyUpgradeBtn = document.getElementById("buyUpgrade");
    const buyPassiveIncomeBtn = document.getElementById("buyPassiveIncome");
    const buySuperUpgradeBtn = document.getElementById("buySuperUpgrade");
    const penguin = document.getElementById("penguin");
    const saveBtn = document.getElementById("saveBtn");

    const mainContent = document.getElementById("mainContent");
    const upgradeMenu = document.getElementById("upgradeMenu");
    const pingvinBtn = document.getElementById("pingvinBtn");
    const upgradeBtn = document.getElementById("upgradeBtn");

    // --- –§—É–Ω–∫—Ü—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ---
    function updateDisplay() {
      counter.innerText = Math.floor(count);
      updateRank();
      updateProfitPerHour();
    }

    function updateRank() {
      if (count < 10) rank.innerText = "Level: Newbie üê£";
      else if (count < 50) rank.innerText = "Level: Pingvinyonok-student üêß";
      else if (count < 100) rank.innerText = "Level: Boss of the snow ‚ùÑÔ∏è";
      else rank.innerText = "Level: Pingvi-Legend üî•";
    }

    function updateProfitPerHour() {
      if (passiveIncome) {
        profitPerHourElement.innerText = `Profit per hour: 1000 coins`;
      } else {
        profitPerHourElement.innerText = `Profit per hour: 0 coins`;
      }
    }

    // --- –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≥—Ä–∏ ---
    function autoSaveGame() {
      localStorage.setItem("coins", count);
      localStorage.setItem("coinsPerClick", coinsPerClick);
      localStorage.setItem("passiveIncome", passiveIncome);
    }

    window.addEventListener("beforeunload", autoSaveGame);
    document.addEventListener("visibilitychange", () => {
      if (document.visibilityState === "hidden") autoSaveGame();
    });

    // --- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É ---
    window.onload = function() {
      const savedCoins = localStorage.getItem("coins");
      const savedCoinsPerClick = localStorage.getItem("coinsPerClick");
      const savedPassiveIncome = localStorage.getItem("passiveIncome");

      if (savedCoins !== null && !isNaN(savedCoins)) {
        count = parseFloat(savedCoins);
      }
      if (savedCoinsPerClick !== null && !isNaN(savedCoinsPerClick)) {
        coinsPerClick = parseInt(savedCoinsPerClick);
      }
      if (savedPassiveIncome === "true") {
        passiveIncome = true;
      }

      // –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –∞–ø–≥—Ä–µ–π–¥—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —è–∫—â–æ –≤–æ–Ω–∏ –∫—É–ø–ª–µ–Ω—ñ
      if (coinsPerClick >= 2) buyUpgradeBtn.disabled = true;
      if (coinsPerClick >= 5) buySuperUpgradeBtn.disabled = true;
      if (passiveIncome) buyPassiveIncomeBtn.disabled = true;

      updateDisplay();
    };

    // --- –ü–æ–¥—ñ—è –∫–ª—ñ–∫—É –ø–æ –ø—ñ–Ω–≥–≤—ñ–Ω—É ---
    penguin.addEventListener("click", () => {
      count += coinsPerClick;
      updateDisplay();
    });

    // --- –ö–Ω–æ–ø–∫–∞ –∞–ø–≥—Ä–µ–π–¥—É –¥–æ 2 –º–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫ ---
    buyUpgradeBtn.addEventListener("click", () => {
      if (count >= 50 && coinsPerClick < 2) {
        count -= 50;
        coinsPerClick = 2;
        buyUpgradeBtn.disabled = true;
        alert("Upgrade bought! Now 2 coins per click.");
        updateDisplay();
      } else if (coinsPerClick >= 2) {
        alert("Upgrade already bought!");
      } else {
        alert("Not enough coins!");
      }
    });

    // --- –ö–Ω–æ–ø–∫–∞ –∞–ø–≥—Ä–µ–π–¥—É –¥–æ 5 –º–æ–Ω–µ—Ç –∑–∞ –∫–ª—ñ–∫ ---
    buySuperUpgradeBtn.addEventListener("click", () => {
      if (count >= 250 && coinsPerClick < 5) {
        count -= 250;
        coinsPerClick = 5;
        buySuperUpgradeBtn.disabled = true;
        alert("Super Upgrade bought! Now 5 coins per click.");
        updateDisplay();
      } else if (coinsPerClick >= 5) {
        alert("Super Upgrade already bought!");
      } else {
        alert("Not enough coins!");
      }
    });

    // --- –ö–Ω–æ–ø–∫–∞ –ø–∞—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É ---
    buyPassiveIncomeBtn.addEventListener("click", () => {
      if (count >= 1000 && !passiveIncome) {
        count -= 1000;
        passiveIncome = true;
        buyPassiveIncomeBtn.disabled = true;
        alert("Passive income bought!");
        updateDisplay();
      } else if (passiveIncome) {
        alert("Passive income already bought!");
      } else {
        alert("Not enough coins!");
      }
    });

    // --- –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ (–∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É) ---
    setInterval(() => {
      if (passiveIncome) {
        count += passiveIncomeRate;
        updateDisplay();
      }
    }, 1000);

    // --- –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è ---
    saveBtn.addEventListener("click", () => {
      autoSaveGame();
      alert("Result saved!");
    });

    // --- –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ –≥–æ–ª–æ–≤–Ω–∏–º –≤—ñ–∫–Ω–æ–º —ñ –º–µ–Ω—é –∞–ø–≥—Ä–µ–π–¥—ñ–≤ ---
    pingvinBtn.addEventListener("click", () => {
      mainContent.style.display = "block";
      upgradeMenu.style.display = "none";
    });

    upgradeBtn.addEventListener("click", () => {
      mainContent.style.display = "none";
      upgradeMenu.style.display = "block";
    });
  </script>
</body>
</html>
